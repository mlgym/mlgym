(()=>{"use strict";var e={14:(e,t,o)=>{var s=o(4428);const n=Object.freeze({JOB_STATUS:"job_status",JOB_SCHEDULED:"job_scheduled",EVALUATION_RESULT:"evaluation_result",EXPERIMENT_CONFIG:"experiment_config",EXPERIMENT_STATUS:"experiment_status",UNKNOWN_EVENT:"Unknown event type. No event handler for such event type."});const r={},c={[n.JOB_STATUS]:(e,t)=>{a(function(e){const{grid_search_id:t,status:o,...s}=e;return{job_status:o,...s}}(e),t,n.JOB_STATUS)},[n.JOB_SCHEDULED]:(e,t)=>console.log("Job scheduled found"),[n.EVALUATION_RESULT]:(e,t)=>{const{experiment_id:o,charts_updates:s,table_scores:n}=function(e){const{experiment_id:t,epoch:o,metric_scores:s,loss_scores:n}=e,r=[],c={};for(const a of s)c[a.split+"_"+a.metric]=a.score,r.push({chart_id:a.split+"_"+a.metric,exp_id:t,epoch:o,score:a.score});for(const a of n)c[a.split+"_"+a.loss]=a.score,r.push({chart_id:a.split+"_"+a.loss,exp_id:t,epoch:o,score:a.score});return{experiment_id:t,charts_updates:r,table_scores:c}}(e);t.chartsUpdates.push(...s),a({experiment_id:o,...n},t)},[n.EXPERIMENT_CONFIG]:(e,t)=>console.log("Exp config found"),[n.EXPERIMENT_STATUS]:(e,t)=>{a(function(e){const{grid_search_id:t,status:o,splits:s,...n}=e;return{model_status:o,splits:s.join(),epoch_progress:n.current_epoch/n.num_epochs,batch_progress:n.current_batch/n.num_batches,...n}}(e),t,n.EXPERIMENT_STATUS)}};function a(e,t){var o,s;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object.assign(null!==(s=t[o=e.experiment_id])&&void 0!==s?s:t[o]=e,e),n&&r[n]||(r[n]=!0,Object.keys(t[e.experiment_id]).forEach(t.headers.add,t.headers))}function i(e,t){for(const o of e){const e=o;if("batched_events"===e.event_id){i(e.data,t);continue}const{data:{event_type:s,payload:n}}=o;c[s](n,t)}}const l=e=>{const t={headers:new Set,chartsUpdates:[]};i(e,t),postMessage(function(e){let{headers:t,chartsUpdates:o,...s}=e;return{tableHeaders:t.size>0?[...t]:void 0,tableData:Object.values(s),chartsUpdates:o}}(t))},d=e=>{postMessage({status:{ping:e}})},p=(e,t,o)=>{postMessage({status:{isSocketConnected:e,gridSearchId:t,restApiUrl:o}})},u=e=>{postMessage({status:{throughput:e}})};let _,h;let f=-1,g=-1,v=0;const m=[];let b;const E=(e,t,o)=>{e.emit("join",{rooms:[t]}),h=setInterval(x,1e3,e),p(!0,t,o),b=setInterval((()=>{m.length>0&&j()}),1e3)},S=e=>y(e),O=e=>y(e),T=e=>{m.push(e),m.length>=1e3&&j(),v++,postMessage({status:"msg_count_increment"})},U=()=>{g=(new Date).getTime(),d(g-f)},x=e=>{(g>f||-1===f)&&(f=(new Date).getTime(),e.emit("ping")),u(v/1),v=0},y=e=>{console.log("".concat(e instanceof Error?"connection":"disconnected"," : ").concat(e)),clearInterval(h),clearInterval(b),m.length>0&&j(),p(!1),u(0),d(0)},j=()=>{l(m),m.length=0};onmessage=e=>{let{data:t}=e;var o;"CLOSE_SOCKET"===t?_.close():void 0!==t.gridSearchId&&void 0!==t.socketConnectionUrl?(o=t,console.log("WebSocket initializing..."),_=(0,s.ZP)(o.socketConnectionUrl,{autoConnect:!0}),_.on("connect",(()=>E(_,o.gridSearchId,o.restApiUrl))),_.on("disconnect",S),_.on("connect_error",O),_.on("mlgym_event",T),_.on("pong",U)):console.log(t)}}},t={};function o(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,o),r.exports}o.m=e,o.x=()=>{var e=o.O(void 0,[428],(()=>o(14)));return e=o.O(e)},(()=>{var e=[];o.O=(t,s,n,r)=>{if(!s){var c=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],r=e[d][2];for(var a=!0,i=0;i<s.length;i++)(!1&r||c>=r)&&Object.keys(o.O).every((e=>o.O[e](s[i])))?s.splice(i--,1):(a=!1,r<c&&(c=r));if(a){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,n,r]}})(),o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,s)=>(o.f[s](e,t),t)),[])),o.u=e=>"static/js/"+e+".caa75c65.chunk.js",o.miniCssF=e=>{},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/mlgym/",(()=>{var e={14:1};o.f.i=(t,s)=>{e[t]||importScripts(o.p+o.u(t))};var t=self.webpackChunkfront_end=self.webpackChunkfront_end||[],s=t.push.bind(t);t.push=t=>{var n=t[0],r=t[1],c=t[2];for(var a in r)o.o(r,a)&&(o.m[a]=r[a]);for(c&&c(o);n.length;)e[n.pop()]=1;s(t)}})(),(()=>{var e=o.x;o.x=()=>o.e(428).then(e)})();o.x()})();
//# sourceMappingURL=14.597cc2bb.chunk.js.map